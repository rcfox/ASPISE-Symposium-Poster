\documentclass[landscape,final]{baposter}

\usepackage{times}
\usepackage{calc}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{relsize}
\usepackage{multirow}
\usepackage{tikz}
\usepackage{bm}

\usepackage{graphicx}
\usepackage{multicol}

\usepackage{pgfbaselayers}
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}

\usepackage{helvet}
%\usepackage{bookman}
\usepackage{palatino}

\newcommand{\captionfont}{\footnotesize}

\selectcolormodel{cmyk}

\graphicspath{{images/}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Some math symbols used in the text
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Format 
\newcommand{\Matrix}[1]{\begin{bmatrix} #1 \end{bmatrix}}
\newcommand{\Vector}[1]{\Matrix{#1}}
\newcommand*{\SET}[1]  {\ensuremath{\mathcal{#1}}}
\newcommand*{\MAT}[1]  {\ensuremath{\mathbf{#1}}}
\newcommand*{\VEC}[1]  {\ensuremath{\bm{#1}}}
\newcommand*{\CONST}[1]{\ensuremath{\mathit{#1}}}
\newcommand*{\norm}[1]{\mathopen\| #1 \mathclose\|}% use instead of $\|x\|$
\newcommand*{\abs}[1]{\mathopen| #1 \mathclose|}% use instead of $\|x\|$
\newcommand*{\absLR}[1]{\left| #1 \right|}% use instead of $\|x\|$

\def\norm#1{\mathopen\| #1 \mathclose\|}% use instead of $\|x\|$
\newcommand{\normLR}[1]{\left\| #1 \right\|}% use instead of $\|x\|$

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Multicol Settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\columnsep}{0.7em}
\setlength{\columnseprule}{0mm}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Save space in lists. Use this after the opening of the list
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\compresslist}{%
\setlength{\itemsep}{1pt}%
\setlength{\parskip}{0pt}%
\setlength{\parsep}{0pt}%
}

\renewenvironment{itemize}
  {\begin{list}{\labelitemi}{\leftmargin=1em} \compresslist}
  {\end{list}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Begin of Document
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Here starts the poster
%%%---------------------------------------------------------------------------
%%% Format it to your taste with the options
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\typeout{Poster Starts}
\background{
  \begin{tikzpicture}[remember picture,overlay]%
%    \draw (current page.north west)+(-2em,-0em) node[anchor=north west] {\hspace{-2em}\includegraphics[height=1.1\textheight]{silhouettes_background}};
  \end{tikzpicture}%
}
\definecolor{silver}{cmyk}{0,0,0,0.3}
\definecolor{yellow}{cmyk}{0,0,0.9,0.0}
\definecolor{reddishyellow}{cmyk}{0,0.22,1.0,0.0}
\definecolor{black}{cmyk}{0,0,0.0,1.0}
\definecolor{darkYellow}{cmyk}{0,0,1.0,0.5}
\definecolor{darkSilver}{cmyk}{0,0,0,0.1}

\definecolor{lightyellow}{cmyk}{0,0,0.3,0.0}
\definecolor{lighteryellow}{cmyk}{0,0,0.1,0.0}
\definecolor{lighteryellow}{cmyk}{0,0,0.1,0.0}
\definecolor{lightestyellow}{cmyk}{0,0,0.05,0.0}
\begin{poster}{
  % Show grid to help with alignment
  grid=no,
  % Column spacing
  colspacing=1em,
  % Color style
  bgColorOne=lighteryellow,
  bgColorTwo=lightestyellow,
  borderColor=reddishyellow,
  headerColorOne=yellow,
  headerColorTwo=reddishyellow,
  headerFontColor=black,
  boxColorOne=lightyellow,
  boxColorTwo=lighteryellow,
  % Format of textbox
  textborder=roundedleft,
  % Format of text header
  eyecatcher=no,
  headerborder=open,
  headerheight=0.08\textheight,
  headershape=roundedright,
  headershade=plain,
  headerfont=\Large\textsf, %Sans Serif
  boxshade=plain,
%  background=shade-tb,
  background=plain,
  linewidth=2pt
  }
  % Eye Catcher
  {} % No eye catcher for this poster. If an eye catcher is present, the title is centered between eye-catcher and logo.
  % Title
  {\sf %Sans Serif
  %\bf% Serif
    Application-Specific Processor Instruction Set Extensions
  }
  % Authors
  {\sf %Sans Serif
  % Serif
    Ryan Fox, Peter Kotwicz, Anton Krutiansky, Byoung-Gi Lee % Alphabetical order
    \hspace{3em}
    University of Waterloo
  }
  % University logo
  {{\begin{minipage}{16em}
    \hfill
%    \includegraphics[height=2em]{msrlogo}
%    \includegraphics[height=5.5em]{logo}
  \end{minipage}}
  }

  \tikzstyle{light shaded}=[top color=baposterBGtwo!30!white,bottom color=baposterBGone!30!white,shading=axis,shading angle=30]

  % Width of left inset image
     \newlength{\leftimgwidth}
     \setlength{\leftimgwidth}{0.78em+8.0em}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Now define the boxes that make up the poster
%%%---------------------------------------------------------------------------
%%% Each box has a name and can be placed absolutely or relatively.
%%% The only inconvenience is that you can only specify a relative position 
%%% towards an already declared box. So if you have a box attached to the 
%%% bottom, one to the top and a third one which should be in between, you 
%%% have to specify the top and bottom boxes before you specify the middle 
%%% box.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %
    % A coloured circle useful as a bullet with an adjustably strong filling
    \newcommand{\colouredcircle}[1]{%
      \tikz{\useasboundingbox (-0.2em,-0.32em) rectangle(0.2em,0.32em); \draw[draw=black,fill=baposterBGone!80!black!#1!white,line width=0.03em] (0,0) circle(0.18em);}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Overview}{name=overview,column=0,row=0}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{itemize}
    \item Problems:
      \begin{itemize}
      \item It's getting harder to make computers faster.
      \item Writing software is much easier than designing a better processor.
      \end{itemize}
    \item Solution:
      \begin{itemize}
      \item Optimize your hardware for your software!
      \end{itemize}
    \item How?
      \begin{itemize}
      \item Perform dynamic code analysis to find common patterns of instructions.
      \item Turn profitable patterns into new instructions.
      \end{itemize}
    \end{itemize}
  }


%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%   \headerbox{Applications}{name=applications,column=1,span=2,row=0}{
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    
%%  }


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Definitions}{name=definitions,column=3,row=0}{
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{itemize}
      \item \textbf{CPI} Cycles Per Instruction
      \item \textbf{SIMD} Single Instruction, Multiple Data
      \item \textbf{GPU} Graphics Processing Unit
    \end{itemize}
 }  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{}{name=overview2,column=0,above=bottom} {
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
     \begin{itemize}
       \item Useful for...
       \begin{itemize}
         \item Creating CPU prototypes
         \item Embedded system running a limited range of applications
         \item Design of GPU by identifying potential new instructions
         \item Optimization of general programs by pattern recognition
       \end{itemize}
     \end{itemize}
   }
  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Targeted Application}{name=target,below=overview,above=overview2}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{itemize}
    \item Edge Detection
      \begin{itemize}
      \item Uses the Kirsch edge detection algorithm to find the edges in an image.
      \item Commonly used for computer vision.
      \item Speed is important!
      \end{itemize}
    \item Running on an ARM7 processor.
    \end{itemize}

    \begin{center}
      \begin{tabular}{c c}
        Input & Output \\
        \includegraphics[scale=0.75]{medium} &
        \includegraphics[scale=0.75]{medium_out}  
      \end{tabular}
    \end{center}    
  }
  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Implementation}{name=implementation,column=1,span=2,row=0}{
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \includegraphics[trim=25mm 35mm 18mm 60mm,clip=true,scale=0.25]{arm_instructions} \\
    \includegraphics[trim=34mm 30mm 10mm 20mm,clip=true,scale=0.5]{arm_cpu}
    \\

    % Define block styles
    \tikzstyle{block} = [rectangle, draw, fill=blue!20, text width=1.5cm,text centered, rounded corners, minimum height=2em]
    \tikzstyle{line} = [draw, -latex]

    \begin{tikzpicture}[node distance = 1.8cm, auto,font=\tiny]
      % Place nodes
      \node [block] (parse) {Parse dynamic inst count};
      \node [block, right of=parse] (count) {Count insts occurrences};
      \node [block, right of=count] (remove) {Remove branch insts};
      \node [block, right of=remove] (trim) {Trim based on constraints};
      \node [block, right of=trim] (trim2) {Trim based on reordering};
      \node [block, right of=trim2] (sort) {Sort and output results};
      \node [block, below of=trim2, node distance=1cm] (map) {Map insts with operands};
      \node [block, below of=sort, node distance=1cm] (map2) {Map insts with CPI};
      % Draw edges
      \path [line] (parse) -- (count);
      \path [line] (count) -- (remove);
      \path [line] (remove) -- (trim);
      \path [line] (trim) -- (trim2);
      \path [line] (trim2) -- (sort);
      \path [line] (map) -- (trim2);
      \path [line] (map2) -- (sort);
    \end{tikzpicture}

    \begin{itemize}
    \item Constraints in bus bandwidth, instruction length, number of operands and more
    \end{itemize}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  \headerbox{Performance Analysis}{name=analysis,column=3,below=definitions,above=bottom}{
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{tabular}{| l | c | c | c |}
      \hline
      \textbf{inst group} & \textbf{counts} & \textbf{CPI} & \textbf{Speedup(\%)} \\ \hline
      ldr add ldr & 12692 & 7 & 10.27 \\ \hline
      add ldr & 21704 & 4 & 10.21 \\ \hline
      ldr add & 20307 & 4 & 9.30 \\ \hline
      ldr add ldr add & 9700 & 8 & 8.85 \\ \hline
    \end{tabular}

    \begin{itemize}
      \item Run a test program on original and extended ARM7 and compare results
    \end{itemize}

    \begin{tabular}{| l | c | c |}
      \hline
      \cline{2-3}
      & \multicolumn{2}{|c|}{Bitmap Size} \\ \cline{2-3}
      & $20 \times 20$ & $100 \times 100$ \\ \hline
      Total cycles & 477166 & 31564966 \\ \hline
      Pattern occurrences & 18307 & 1211324 \\ \hline
      inst cycles & 4 & 4 \\ \hline
      new inst cycles & 3 & 3 \\ \hline
      \textbf{Speedup} & 4\% & 4\% \\ \hline
    \end{tabular}

    \begin{itemize}
      \item Most performance gain comes from reduced CPI.
      \item It is difficult to reach beyond a certain point due to various contraints.
    \end{itemize}

  }

\end{poster}%
%
\end{document}
